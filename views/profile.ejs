<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body class="bg-white text-black min-h-screen flex flex-col font-[Outfit]">

      <nav class="main-nav flex items-center justify-center p-4 sticky top-0 z-50 backdrop-blur-lg bg-opacity-70">
      <div class="flex justify-between items-center w-[80rem]">
        <a href="/" class="text-2xl text-black ">
         <i class="ri-blaze-line"></i> Swap
        </a> 

        <div class="flex items-center space-x-6">
          <a href="/" class="text-[14px] font-[400]"> Home</a>
          <a href="/" class="text-[14px]">Request</a>
          <a href="/" class="text-[14px]">Dashbord</a>

          <% if (user) { %>
            <a href="/profile" class="w-[30px]  rounded-full ">
              <img src="https://avatars.githubusercontent.com/u/113900393?v=4" alt="" class="rounded-[10px]">
            </a>
            <!-- <form action="/logout" method="POST">
              <button type="submit" class="text-lg font-medium ">Logout</button>
            </form> -->
          <% } else { %>
            <a href="/login" class="text-[14px] hover:text-blue-500 transition-colors duration-300">Login</a>
          <% } %>
  
        </div>
      </div>
    </nav>

    <div class="flex flex-col flex-1 items-center px-4 py-8">
        <div class="w-full max-w-7xl bg-[#212121] rounded-lg p-8 shadow-lg">
            <h1 class="text-2xl font-semibold mb-6 text-gray-300">Profile</h1>
            <p class="text-sm text-gray-500 mb-8">View all your profile details here.</p>

            <div class="flex flex-col md:flex-row gap-8">
                <aside class="w-full md:w-1/3 bg-[#2b2b2b] rounded-lg p-6 flex flex-col items-center shadow-md">
                    <div class="w-48 h-48 rounded-full overflow-hidden border-[6px] border-[#3a3a3a] shadow-xl mb-4">
                        <img src="<%= user?.profilePhoto || 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' %>" alt="Profile Photo" class="w-full h-full object-cover">
                    </div>
                    <div class="text-center">
                        <h2 class="text-2xl font-bold text-white"><%= user?.name || "Maria Fernanda" %></h2>
                        <p class="text-green-400 text-sm mt-1">Premium User</p>
                    </div>
                    <div class="mt-8 flex space-x-4">
                        <a href="https://www.youtube.com/" target="_blank" class="text-gray-400 hover:text-red-600 transition-colors duration-300">
                            <i class="ri-youtube-fill text-3xl"></i>
                        </a>
                        <a href="https://www.instagram.com/" target="_blank" class="text-gray-400 hover:text-pink-600 transition-colors duration-300">
                            <i class="ri-instagram-fill text-3xl"></i>
                        </a>
                        <a href="https://www.tiktok.com/" target="_blank" class="text-gray-400 hover:text-black transition-colors duration-300">
                            <i class="ri-tiktok-fill text-3xl"></i>
                        </a>
                    </div>
                </aside>

                <section class="flex-1 space-y-8 w-full">
                 

                    <div class="bg-[#2b2b2b] rounded-lg p-6 shadow-md">
                        <h2 class="text-xl font-semibold border-b border-[#3a3a3a] pb-2 mb-4 text-gray-300">Skills Offered</h2>
                        <ul class="list-disc pl-5 text-gray-400">
                            <% if (user?.skillsOffered?.length) { %>
                                <% user.skillsOffered.forEach(skill => { %>
                                    <li><%= skill %></li>
                                <% }) %>
                            <% } else { %>
                                <li>Beatmaking, Music Production</li>
                            <% } %>
                        </ul>
                    </div>

                    <div class="bg-[#2b2b2b] rounded-lg p-6 shadow-md">
                        <h2 class="text-xl font-semibold border-b border-[#3a3a3a] pb-2 mb-4 text-gray-300">Skills Wanted</h2>
                        <ul class="list-disc pl-5 text-gray-400">
                            <% if (user?.skillsWanted?.length) { %>
                                <% user.skillsWanted.forEach(skill => { %>
                                    <li><%= skill %></li>
                                <% }) %>
                            <% } else { %>
                                <li>Mixing, Mastering</li>
                            <% } %>
                        </ul>
                    </div>

                    <div class="bg-[#2b2b2b] rounded-lg p-6 shadow-md">
                        <h2 class="text-xl font-semibold border-b border-[#3a3a3a] pb-2 mb-4 text-gray-300">ðŸ“¥ Incoming Swap Requests</h2>
                        <% if (incomingRequests.length > 0) { %>
                            <ul class="space-y-4">
                                <% incomingRequests.forEach(req => { %>
                                    <li class="bg-[#3a3a3a] p-4 rounded-lg shadow border border-[#4a4a4a]">
                                        <p><strong class="text-green-400"><%= req.fromUser.name %></strong> wants to learn <span class="text-yellow-400"><%= req.wantedSkill %></span> and is offering <span class="text-blue-400"><%= req.offeredSkill %></span></p>
                                        <p class="text-gray-500 italic mt-1">" <%= req.message %> "</p>
                                    </li>
                                <% }) %>
                            </ul>
                        <% } else { %>
                            <p class="text-gray-500 italic">No incoming requests yet.</p>
                        <% } %>
                    </div>

                    <div class="bg-[#2b2b2b] rounded-lg p-6 shadow-md">
                        <h2 class="text-xl font-semibold border-b border-[#3a3a3a] pb-2 mb-4 text-gray-300">ðŸ“¤ Outgoing Swap Requests</h2>
                        <% if (outgoingRequests.length > 0) { %>
                            <ul class="space-y-4">
                                <% outgoingRequests.forEach(req => { %>
                                    <li class="bg-[#3a3a3a] p-4 rounded-lg shadow border border-[#4a4a4a]">
                                        <p>You sent a request to <strong class="text-green-400"><%= req.toUser.name %></strong> offering <span class="text-blue-400"><%= req.offeredSkill %></span> and requesting <span class="text-yellow-400"><%= req.wantedSkill %></span></p>
                                        <p class="text-gray-500 italic mt-1">" <%= req.message %> "</p>
                                    </li>
                                <% }) %>
                            </ul>
                        <% } else { %>
                            <p class="text-gray-500 italic">You haven't sent any requests yet.</p>
                        <% } %>
                    </div>

                </section>
            </div>
        </div>
    </div>
</body>
</html>